@using AV.AvA.Model

<PersonNameTitle Person="@Person" />

<MudCard Outlined="true" Class="ma-8">
    <MudCardContent>
        <MudList>
            <MudListSubheader>
                <MudText Typo="Typo.h6">Name</MudText>
            </MudListSubheader>
            <MudListItem>
                <MudGrid>
                    <MudItem xs="12" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.PraefixTitel" Label="Präfix Titel" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.Vorname" Label="Vorname" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.Zweitnamen" Label="Zweitnamen" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.NachnamePraefix" Label="Nachnamenspräfix" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.Nachname" Label="Nachname" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="12" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.SuffixTitel" Label="Suffix Titel" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.GeburtsnamePraefix" Label="Geburtsnamenspräfix" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="6" sm="4" md="4">
                        <MudTextField @bind-Value="@Person.Geburtsname" Label="Geburtsname" Variant="Variant.Text"></MudTextField>
                    </MudItem>
                    <MudItem xs="0" sm="4" md="4">
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudText Typo="Typo.subtitle1">Spitznamen</MudText>
                        @for(int i = 0; i < Person.Spitznamen.Count; i++)
                        {
                            var iCopy = i;
                            <MudGrid>
                                <MudItem xs="12" sm="12" md="12">
                                    <MudTextField @bind-Value="@Person.Spitznamen[iCopy]" Label="Spitzname" Variant="Variant.Text"></MudTextField>
                                    <!--
                                        <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Delete" Color="Color.Error">Delete</MudButton>
                                    -->
                                </MudItem>
                            </MudGrid>
                        }
                        <MudButton Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Add" Color="Color.Primary" OnClick="AddSpitzname">Hinzufügen</MudButton>
                    </MudItem>
                </MudGrid>
            </MudListItem>
        </MudList>
    </MudCardContent>
</MudCard>

@code {
    [Parameter]
    public Person Person { get; set; }

    void AddSpitzname()
    {
        Person.Spitznamen.Add("");
    }
}

